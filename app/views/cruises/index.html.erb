<div class="page-container">
    <div class="header-content">
      <div class="cruise-header">
        <h1 class="block">Choose Your Sailings</h1>
        <h3 class="block" id="pick-one">(Pick one for each box)</p>
      </div>
    </div>

    <% cruiseLineInfo = @response.parsed_response['cruise_lines'] %>

    <div class="cruise-container">
      <div class="card-container">
        <% @response.parsed_response['sailings'].each do |cruise| %>
          <% picture = cruise['sailing_main_image'] %>
          <div class="card">
            <div class="card-image">
              <%= image_tag picture, alt:'cruise picture!'%>
            </div>
            <div class="card-footer">
              <p class="cruise-p">Cruise Line Name - Cruise Ship Name</p>
              <h2><%= cruise['sailing_name'] %></h2>
              <div class="cell">
                <div class="check">
                    <input id="check-1" type="checkbox" />
                    <label for="check-1">$125</label>
                </div>
              </div>
              <div class="cell">
                <div class="check">
                    <input id="check-1" type="checkbox" />
                    <label for="check-1">$125</label>
                </div>
              </div>
              <div class="cell">
                <div class="check">
                    <input id="check-1" type="checkbox" />
                    <label for="check-1">$125</label>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>


    <div class="savings-container">
      <div class="cruise-header">
        <h1 id="savings-h1">Your Selected Savings Total</h1>
      </div>
      <h1 id="price">$0</h1>
    </div>
</div>


<script type="text/javascript">
$(".cell").on("click", "input:checkbox", function () {
  var $items = $(".cell").find("input:checkbox:checked");
  var $total = $("#price");
  var cur_total = 0;

  $items.each(function () {
      var $this = $(this);
      var $target = $("label[for='" + $this.attr("id") + "']");
      var item_value = +($target.html().replace("$", "") || 0);

      cur_total += item_value;
  });

  $total.html("$" + cur_total);
});
</script>
